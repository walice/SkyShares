/* raphael-svg-import-classic - v0.2.1 - 2014-02-11 */
Raphael.fn.importSVG=function(a,b){"use strict";var c=this.set(),d={},e={"text-anchor":"start"};this.parseElement=function(a){if(3!==a.nodeType){var f,g,h,i,j={stroke:"none","stroke-width":1,fill:"black"},k=a.nodeName;if(a.attributes)for(f=0,g=a.attributes.length;g>f;f++)j[a.attributes[f].name]=a.attributes[f].value;switch(k){case"svg":case"g":var l=a.getAttribute("id"),m=a.getAttribute("class");if(l||m){var n=a.childNodes;for(f=0,g=n.length;g>f;f++){var o=n[f];3!==o.nodeType&&(l&&o.setAttribute("data-svg-group",l),m&&o.setAttribute("class",(o.getAttribute("class")||"")+" "+m))}}var p=this.set();for(f=0,g=a.childNodes.length;g>f;f++)p.push(this.parseElement(a.childNodes.item(f)));if(j.transform){var q=/translate\(([^,]+),([^,]+)\)/.exec(j.transform);3==q.length&&p.translate(q[1],q[2])}return"none"===j.display&&p.hide(),l&&a.childNodes.length&&(d[l]=p),void 0;case"rect":j.rx&&j.ry?(j.r=(+(j.rx||0)+ +(j.ry||0))/2,delete j.rx,delete j.ry):(j.r=j.rx||j.ry||0,delete j.rx,delete j.ry);case"circle":case"ellipse":i=this[k]();break;case"path":i=this.path(j.d),delete j.d;break;case"polygon":i=this.polygon(j);break;case"polyline":i=this.polyline(j);break;case"line":i=this.line(j);break;case"image":i=this.image();break;case"text":for(h in e)!j[h]&&e.hasOwnProperty(h)&&(j[h]=e[h]);i=this.text(j.x,j.y,a.text||a.textContent);break;default:var r=a.getElementsByTagName("svg");return r.length&&(r[0].normalize(),this.parseElement(r[0])),void 0}var s=j.transform;if(s){s=s.substring(7,s.length-1).split(" ").map(function(a){return parseFloat(a)});var t=i.matrix;t.add.apply(t,s),i.transform(t.toTransformString()),delete j.transform}if(j.style){var u,v=j.style.split(";");for(f=0;f<v.length;f++)u=v[f].split(":"),h=$.trim(u[0]),h&&(j[h]=$.trim(u[1]))}i.attr(j);var w=a.getAttribute("class");w&&i.node.setAttribute("class",(i.node.getAttribute("class")||"")+" "+w),i.node.setAttribute("data-svg",k);var x=a.getAttribute("data-svg-group");x&&i.node.setAttribute("data-svg-group",x);var y=a.getAttribute("id");return y&&(i.node.id=y),b&&b.parseElement&&(i=b.parseElement(i,a)),i&&c.push(i),i}},this.parseElement(a);var f=Function.prototype.bind&&Array.prototype.forEach?Function.prototype.call.bind(Array.prototype.forEach):function(a,b){for(var c=0,d=a.length;d>c;c++)b(a[c],c,a)},g=this;f(a.getElementsByTagName("style"),function(a){var b=document.createElement("style"),c=a.textContent||a.text;b.type="text/css",document.head.appendChild(b);var d;b.styleSheet?(b.styleSheet.cssText=c,d=b.styleSheet.rules):(b.appendChild(document.createTextNode(c)),d=b.sheet.cssRules),f(d,function(a){var b=a.style,c=document.querySelectorAll(a.selectorText),d={};for(var e in Raphael._availableAttrs){var h=b[e];h&&(d[e]="number"==typeof Raphael._availableAttrs[e]?parseFloat(h):h)}f(c,function(a){g.getById(a.raphaelid).attr(d)})})});var h,i=!1;for(h in d){i=!0;break}return i&&(c.groups=d),c},Raphael.fn.line=function(a){var b=["M",a.x1,a.y1,"L",a.x2,a.y2,"Z"];return delete a.x1,delete a.y1,delete a.x2,delete a.y2,this.path(b)},Raphael.fn.polygon=function(a){for(var b=a.points,c=["M"],d=b.split(" "),e=0;e<d.length;e++){for(var f=d[e].split(","),g=0;g<f.length;g++){var h=parseFloat(f[g]);isNaN(h)||c.push(h)}0===e&&c.push("L")}return c.push("Z"),delete a.points,this.path(c)},Raphael.fn.polyline=function(a){for(var b=a.points,c=["M"],d=b.split(" "),e=0;e<d.length;e++){for(var f=d[e].split(","),g=0;g<f.length;g++){var h=parseFloat(f[g]);isNaN(h)||c.push(h)}0===e&&c.push("L")}return delete a.points,this.path(c)};